<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <link href="https://vjs.zencdn.net/8.0.4/video-js.css" rel="stylesheet" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
        }
        
        .video-js-wrapper {
            position: fixed;
            top: -50px;
            left: -50px;
            right: -50px;
            bottom: -50px;
            width: calc(100vw + 100px);
            height: calc(100vh + 100px);
        }
        
        #myVideo {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Кастомизация Video.js */
        .video-js {
            width: 100% !important;
            height: 100% !important;
            background-color: #000;
        }
        
        .vjs-fullscreen {
            object-fit: cover !important;
        }
    </style>
</head>
<body>
    <div class="video-js-wrapper">
        <video 
            id="myVideo"
            class="video-js vjs-default-skin"
            controls
            preload="auto"
            autoplay
            muted
            playsinline
            webkit-playsinline
            data-setup='{}'
        >
            <!-- Видео с соотношением 9:16 (вертикальное) для современных iPhone -->
            <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4">
            
            <!-- Альтернативные видео с подходящими соотношениями: -->
            <!-- <source src="https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/1080/Big_Buck_Bunny_1080_10s_1MB.mp4" type="video/mp4"> -->
            <!-- <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4"> -->
        </video>
    </div>

    <script src="https://vjs.zencdn.net/8.0.4/video.min.js"></script>
    <script>
        const player = videojs('myVideo');
        
        // Принудительное масштабирование при готовности
        player.ready(function() {
            const video = this.el().querySelector('video');
            
            // Применяем начальный zoom
            video.style.transform = 'scale(1.3)';
            video.style.transformOrigin = 'center center';
            
            // Включаем полноэкранный режим
            this.requestFullscreen();
            
            // Обработчик жестов для дополнительного zoom
            let scale = 1.3;
            let lastDistance = 0;
            
            video.addEventListener('touchmove', function(e) {
                if (e.touches.length === 2) {
                    e.preventDefault();
                    const touch1 = e.touches[0];
                    const touch2 = e.touches[1];
                    
                    const distance = Math.hypot(
                        touch2.pageX - touch1.pageX,
                        touch2.pageY - touch1.pageY
                    );
                    
                    if (lastDistance > 0) {
                        if (distance > lastDistance) {
                            // Zoom in
                            scale = Math.min(scale + 0.1, 2.0);
                        } else {
                            // Zoom out
                            scale = Math.max(scale - 0.1, 1.0);
                        }
                        
                        video.style.transform = `scale(${scale})`;
                    }
                    
                    lastDistance = distance;
                }
            });
            
            video.addEventListener('touchend', function() {
                lastDistance = 0;
            });
        });
    </script>
</body>
</html>
